<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - Christoff's Portfolio</title>
    <link rel="stylesheet" href="a_styles.css">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <script src="dark-mode.js" defer></script>
    <!-- Fallback dark mode button -->
    <button id="fallback-dark-mode" onclick="toggleDarkMode()" style="position: fixed; bottom: 20px; right: 20px; z-index: 1001; display: none; background: #007bff; color: white; border: none; padding: 10px; border-radius: 50%; width: 50px; height: 50px; cursor: pointer; font-size: 18px;">ðŸŒ™</button>
</head>
<body>
    <nav>
        <div class="nav-links" id="navLinks">
            <i class="fa fa-times" onclick="hideMenu()"></i>
            <ul>
                <li><a href="/">HOME</a></li>
                <li><a href="/projects">PROJECTS</a></li>
                <li><a href="/gallery" class="active">GALLERY</a></li>
                <li><a href="/services">SERVICES</a></li>
            </ul>
            <div class="mobile-social-links">
                <a href="mailto:christoffcowan10@gmail.com" class="social-link"><i class="fas fa-envelope"></i></a>
                <a href="https://github.com/toff-cowan" class="social-link" target="_blank"><i class="fab fa-github"></i></a>
                <a href="https://linkedin.com/in/christoff-cowan" class="social-link" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
        <i class="fa fa-bars" onclick="showMenu()"></i>
    </nav>

    <main class="gallery-main">
        <header class="gallery-header">
            <div class="header-content">
                <h1>Gallery</h1>
                <p>Explore my visual journey and creative works</p>
            </div>
        </header>

        <section class="gallery-section">
            <div class="gallery-scroll-container">
                <div class="gallery-container">
                    <!-- Intellibus AI Hackathon 2025 -->
                    <div class="gallery-item floating" onclick="openHackathonModal()">
                        <div class="gallery-image">
                            <img src="Pictures/IMG-20251020-WA0002.jpg" alt="Intellibus AI Hackathon 2025">
                            <div class="gallery-overlay">
                                <h3>Intellibus AI Hackathon 2025</h3>
                                <p>Click to view all photos</p>
                            </div>
                        </div>
                        <div class="gallery-content">
                            <h3>Intellibus AI Hackathon 2025</h3>
                            <p>Documentation of my participation in the Intellibus AI Hackathon 2025. This collection showcases my involvement in cutting-edge AI technology competitions and my commitment to innovation in artificial intelligence.</p>
                            <div class="gallery-tags">
                                <span>AI Hackathon</span>
                                <span>Innovation</span>
                                <span>Technology</span>
                                <span>Competition</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Scroll back button -->
            <button id="scrollBackBtn" class="scroll-back-btn" onclick="resetGalleryScroll()" title="Scroll back to beginning">
                <i class="fas fa-arrow-left"></i>
            </button>
        </section>
    </main>

    <!-- Modal for Image Preview -->
    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <button class="modal-nav modal-nav-prev" onclick="changeImage(-1)" aria-label="Previous image">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button class="modal-nav modal-nav-next" onclick="changeImage(1)" aria-label="Next image">
            <i class="fas fa-chevron-right"></i>
        </button>
        <img class="modal-content" id="modalImage">
        <div class="modal-caption" id="modalCaption"></div>
    </div>

    <!-- Hackathon Gallery Modal -->
    <div id="hackathonModal" class="modal">
        <span class="close" onclick="closeHackathonModal()">&times;</span>
        <div class="hackathon-gallery">
            <h2>Intellibus AI Hackathon 2025</h2>
            <div class="hackathon-images">
                <img src="Pictures/IMG-20251020-WA0002.jpg" alt="Hackathon Photo 1" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0003.jpg" alt="Hackathon Photo 2" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0004.jpg" alt="Hackathon Photo 3" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0005.jpg" alt="Hackathon Photo 4" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0006.jpg" alt="Hackathon Photo 5" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0007.jpg" alt="Hackathon Photo 6" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0008.jpg" alt="Hackathon Photo 7" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0009.jpg" alt="Hackathon Photo 8" onclick="openModalFromHackathon(this)">
                <img src="Pictures/IMG-20251020-WA0010.jpg" alt="Hackathon Photo 9" onclick="openModalFromHackathon(this)">
            </div>
        </div>
    </div>
    <!-- Add more images-->

    <footer class="footer">
        <div class="footer-content">
            <p>&copy; 2025 Christoff Cowan. All rights reserved.</p>
            <div class="footer-links">
                <a href="mailto:christoffcowan10@gmail.com">Contact Me</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript for mobile menu and gallery functionality -->
    <script>
        // Mobile menu toggle
        const navLinks = document.getElementById("navLinks");
        
        function showMenu() {
            navLinks.style.right = "0";
            document.body.style.overflow = "hidden";
        }
        
        function hideMenu() {
            navLinks.style.right = "-300px";
            document.body.style.overflow = "auto";
        }

        // Hackathon images array
        const hackathonImages = [
            'Pictures/IMG-20251020-WA0002.jpg',
            'Pictures/IMG-20251020-WA0003.jpg',
            'Pictures/IMG-20251020-WA0004.jpg',
            'Pictures/IMG-20251020-WA0005.jpg',
            'Pictures/IMG-20251020-WA0006.jpg',
            'Pictures/IMG-20251020-WA0007.jpg',
            'Pictures/IMG-20251020-WA0008.jpg',
            'Pictures/IMG-20251020-WA0009.jpg',
            'Pictures/IMG-20251020-WA0010.jpg'
        ];
        
        let currentImageIndex = 0;
        let isHackathonGallery = false;

        // Gallery modal functionality
        function openModal(element) {
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const caption = document.getElementById('modalCaption');
            const navButtons = document.querySelectorAll('.modal-nav');
            const img = element.querySelector('img');
            const title = element.querySelector('.gallery-content h3').textContent;
            const description = element.querySelector('.gallery-content p').textContent;
            
            isHackathonGallery = false;
            modal.style.display = "block";
            modalImg.src = img.src;
            caption.innerHTML = `<h3>${title}</h3><p>${description}</p>`;
            
            // Hide navigation arrows for single images
            navButtons.forEach(btn => btn.style.display = 'none');
        }

        function closeModal() {
            const modal = document.getElementById('imageModal');
            modal.style.display = "none";
            modal.style.zIndex = "9999"; // Reset to default
            isHackathonGallery = false;
        }

        // Hackathon modal functionality
        function openHackathonModal() {
            document.getElementById('hackathonModal').style.display = "block";
        }

        function closeHackathonModal() {
            document.getElementById('hackathonModal').style.display = "none";
        }

        function openModalFromHackathon(img) {
            // Close hackathon modal first
            closeHackathonModal();
            
            // Find the index of the clicked image
            const imgSrc = img.src.split('/').pop();
            currentImageIndex = hackathonImages.findIndex(path => path.includes(imgSrc));
            if (currentImageIndex === -1) {
                // Try to find by full path
                currentImageIndex = hackathonImages.findIndex(path => img.src.includes(path.split('/').pop()));
            }
            if (currentImageIndex === -1) currentImageIndex = 0;
            
            isHackathonGallery = true;
            
            // Then open image modal with higher z-index
            const modal = document.getElementById('imageModal');
            const modalImg = document.getElementById('modalImage');
            const caption = document.getElementById('modalCaption');
            const navButtons = document.querySelectorAll('.modal-nav');
            
            modal.style.display = "block";
            modal.style.zIndex = "10000"; // Higher than hackathon modal
            modalImg.src = hackathonImages[currentImageIndex];
            caption.innerHTML = `<h3>Intellibus AI Hackathon 2025</h3><p>Photo ${currentImageIndex + 1} of ${hackathonImages.length}</p>`;
            
            // Show navigation arrows for hackathon gallery
            navButtons.forEach(btn => btn.style.display = 'flex');
        }
        
        // Navigate between images
        function changeImage(direction) {
            if (!isHackathonGallery) return;
            
            currentImageIndex += direction;
            
            // Loop around
            if (currentImageIndex < 0) {
                currentImageIndex = hackathonImages.length - 1;
            } else if (currentImageIndex >= hackathonImages.length) {
                currentImageIndex = 0;
            }
            
            const modalImg = document.getElementById('modalImage');
            const caption = document.getElementById('modalCaption');
            
            modalImg.src = hackathonImages[currentImageIndex];
            caption.innerHTML = `<h3>Intellibus AI Hackathon 2025</h3><p>Photo ${currentImageIndex + 1} of ${hackathonImages.length}</p>`;
        }
        
        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            const modal = document.getElementById('imageModal');
            if (modal.style.display === 'block' && isHackathonGallery) {
                if (e.key === 'ArrowLeft') {
                    changeImage(-1);
                } else if (e.key === 'ArrowRight') {
                    changeImage(1);
                } else if (e.key === 'Escape') {
                    closeModal();
                }
            }
        });

        // Manual scrolling only - auto-scroll removed
        function resetGalleryScroll() {
            const scrollContainer = document.querySelector('.gallery-scroll-container');
            if (scrollContainer) {
                scrollContainer.scrollLeft = 0;
            }
        }

        // Close modal when clicking outside or on the image
        document.getElementById('imageModal').addEventListener('click', function(event) {
            if (event.target === this || event.target.classList.contains('modal-content')) {
                closeModal();
            }
        });

        document.getElementById('hackathonModal').addEventListener('click', function(event) {
            if (event.target === this || event.target.classList.contains('hackathon-gallery')) {
                closeHackathonModal();
            }
        });

        // Touch swiping for gallery container (manual scrolling only)
        let touchStartX = 0;
        let touchStartY = 0;
        
        function handleTouchStart(e) {
            touchStartX = e.touches[0].clientX;
            touchStartY = e.touches[0].clientY;
        }
        
        function handleTouchMove(e) {
            if (!touchStartX || !touchStartY) return;
            
            const touchCurrentX = e.touches[0].clientX;
            const touchCurrentY = e.touches[0].clientY;
            
            const diffX = touchStartX - touchCurrentX;
            const diffY = touchStartY - touchCurrentY;
            
            if (Math.abs(diffX) > Math.abs(diffY)) {
                // Horizontal swipe
                const scrollContainer = document.querySelector('.gallery-scroll-container');
                if (scrollContainer) {
                    scrollContainer.scrollLeft += diffX;
                }
            }
        }
        
        function handleTouchEnd(e) {
            touchStartX = 0;
            touchStartY = 0;
        }
        
        // Swipe functionality for image modal
        let modalTouchStartX = 0;
        let modalTouchStartY = 0;
        let modalSwipeThreshold = 50; // Minimum distance for a swipe
        
        function handleModalTouchStart(e) {
            if (!isHackathonGallery) return;
            modalTouchStartX = e.touches[0].clientX;
            modalTouchStartY = e.touches[0].clientY;
        }
        
        function handleModalTouchMove(e) {
            // Prevent default to avoid scrolling while swiping
            if (isHackathonGallery && modalTouchStartX !== 0) {
                e.preventDefault();
            }
        }
        
        function handleModalTouchEnd(e) {
            if (!isHackathonGallery || modalTouchStartX === 0) return;
            
            const touchEndX = e.changedTouches[0].clientX;
            const touchEndY = e.changedTouches[0].clientY;
            
            const diffX = modalTouchStartX - touchEndX;
            const diffY = modalTouchStartY - touchEndY;
            
            // Check if it's a horizontal swipe
            if (Math.abs(diffX) > Math.abs(diffY) && Math.abs(diffX) > modalSwipeThreshold) {
                if (diffX > 0) {
                    // Swiped left - next image
                    changeImage(1);
                } else {
                    // Swiped right - previous image
                    changeImage(-1);
                }
            }
            
            modalTouchStartX = 0;
            modalTouchStartY = 0;
        }
        
        // Add touch event listeners for manual scrolling
        document.addEventListener('DOMContentLoaded', function() {
            const scrollContainer = document.querySelector('.gallery-scroll-container');
            if (scrollContainer) {
                scrollContainer.addEventListener('touchstart', handleTouchStart, { passive: false });
                scrollContainer.addEventListener('touchmove', handleTouchMove, { passive: false });
                scrollContainer.addEventListener('touchend', handleTouchEnd, { passive: false });
            }
            
            // Add swipe listeners to modal image
            const modalImage = document.getElementById('modalImage');
            if (modalImage) {
                modalImage.addEventListener('touchstart', handleModalTouchStart, { passive: true });
                modalImage.addEventListener('touchmove', handleModalTouchMove, { passive: false });
                modalImage.addEventListener('touchend', handleModalTouchEnd, { passive: true });
            }
        });
    </script>
</body>
</html>
